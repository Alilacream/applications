{"ast":null,"code":"\"use strict\";\n\nvar _excluded = [\"modules\"];\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nfunction _slicedToArray(r, e) {\n  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nfunction _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar DocUtils = require(\"./doc-utils.js\");\nvar z = require(\"./minizod.js\");\n\n// Schema definitions for DXT.ConstructorOptions\nvar dxtSyntaxSchema = z.object({\n  allowUnopenedTag: z[\"boolean\"]().optional(),\n  allowUnclosedTag: z[\"boolean\"]().optional(),\n  allowUnbalancedLoops: z[\"boolean\"]().optional(),\n  changeDelimiterPrefix: z.string().optional().nullable()\n});\nvar dxtOptionsSchema = z.object({\n  delimiters: z.object({\n    start: z.string().nullable(),\n    end: z.string().nullable()\n  }).strict().optional(),\n  fileTypeConfig: z.object({}).optional(),\n  paragraphLoop: z[\"boolean\"]().optional(),\n  parser: z[\"function\"]().optional(),\n  errorLogging: z.union([z[\"boolean\"](), z.string()]).optional(),\n  linebreaks: z[\"boolean\"]().optional(),\n  nullGetter: z[\"function\"]().optional(),\n  syntax: dxtSyntaxSchema.optional(),\n  stripInvalidXMLChars: z[\"boolean\"]().optional()\n}).strict();\nvar _require = require(\"./get-relation-types.js\"),\n  getRelsTypes = _require.getRelsTypes;\nvar _require2 = require(\"./get-content-types.js\"),\n  collectContentTypes = _require2.collectContentTypes,\n  getContentTypes = _require2.getContentTypes;\nvar moduleWrapper = require(\"./module-wrapper.js\");\nvar traits = require(\"./traits.js\");\nvar commonModule = require(\"./modules/common.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar Lexer = require(\"./lexer.js\");\nvar _require3 = require(\"./get-tags.js\"),\n  _getTags = _require3.getTags;\nvar logErrors = require(\"./error-logger.js\");\nvar _require4 = require(\"./errors.js\"),\n  throwMultiError = _require4.throwMultiError,\n  throwResolveBeforeCompile = _require4.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require4.throwRenderInvalidTemplate,\n  throwRenderTwice = _require4.throwRenderTwice,\n  XTInternalError = _require4.XTInternalError,\n  XTTemplateError = _require4.XTTemplateError,\n  throwFileTypeNotIdentified = _require4.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require4.throwFileTypeNotHandled,\n  throwApiVersionError = _require4.throwApiVersionError;\nDocUtils.getRelsTypes = getRelsTypes;\nDocUtils.traits = traits;\nDocUtils.moduleWrapper = moduleWrapper;\nDocUtils.collectContentTypes = collectContentTypes;\nDocUtils.getContentTypes = getContentTypes;\nvar getDefaults = DocUtils.getDefaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  getDuplicates = DocUtils.getDuplicates,\n  stableSort = DocUtils.stableSort,\n  pushArray = DocUtils.pushArray,\n  utf8ToWord = DocUtils.utf8ToWord,\n  invertMap = DocUtils.invertMap;\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar currentModuleApiVersion = [3, 47, 1];\nfunction throwIfDuplicateModules(modules) {\n  var duplicates = getDuplicates(modules.map(function (_ref) {\n    var name = _ref.name;\n    return name;\n  }));\n  if (duplicates.length > 0) {\n    throw new XTInternalError(\"Detected duplicate module \\\"\".concat(duplicates[0], \"\\\"\"));\n  }\n}\nfunction addXmlFileNamesFromXmlContentType(doc) {\n  for (var _i2 = 0, _doc$modules2 = doc.modules; _i2 < _doc$modules2.length; _i2++) {\n    var _module = _doc$modules2[_i2];\n    for (var _i4 = 0, _ref3 = _module.xmlContentTypes || []; _i4 < _ref3.length; _i4++) {\n      var contentType = _ref3[_i4];\n      var candidates = doc.invertedContentTypes[contentType] || [];\n      for (var _i6 = 0; _i6 < candidates.length; _i6++) {\n        var candidate = candidates[_i6];\n        if (doc.zip.files[candidate]) {\n          doc.options.xmlFileNames.push(candidate);\n        }\n      }\n    }\n  }\n}\nfunction reorderModules(modules) {\n  /**\n   * Modules will be sorted according to priority.\n   *\n   * Input example:\n   * [\n   *   { priority: 1, name: \"FooMod\" },\n   *   { priority: -1, name: \"XMod\" },\n   *   { priority: 4, name: \"OtherMod\" }\n   * ]\n   *\n   * Output example (sorted by priority in descending order):\n   * [\n   *   { priority: 4, name: \"OtherMod\" },\n   *   { priority: 1, name: \"FooMod\" },\n   *   { priority: -1, name: \"XMod\" }\n   * ]\n   * Tested in #test-reorder-modules\n   */\n  return stableSort(modules, function (m1, m2) {\n    return (m2.priority || 0) - (m1.priority || 0);\n  });\n}\nfunction zipFileOrder(files) {\n  var allFiles = [];\n  for (var name in files) {\n    allFiles.push(name);\n  }\n  /*\n   * The first files that need to be put in the zip file are :\n   * [Content_Types].xml and _rels/.rels\n   */\n  var resultFiles = [ctXML, relsFile];\n\n  /*\n   * The next files that should be in the zip file are :\n   *\n   * - word/* (ie word/document.xml, word/header1.xml, ...)\n   * - xl/* (ie xl/worksheets/sheet1.xml)\n   * - ppt/* (ie ppt/slides/slide1.xml)\n   */\n  var prefixes = [\"word/\", \"xl/\", \"ppt/\"];\n  for (var _i8 = 0; _i8 < allFiles.length; _i8++) {\n    var _name = allFiles[_i8];\n    for (var _i0 = 0; _i0 < prefixes.length; _i0++) {\n      var prefix = prefixes[_i0];\n      if (_name.indexOf(\"\".concat(prefix)) === 0) {\n        resultFiles.push(_name);\n      }\n    }\n  }\n  /*\n   * Push the rest of files, such as docProps/core.xml and docProps/app.xml\n   */\n  for (var _i10 = 0; _i10 < allFiles.length; _i10++) {\n    var _name2 = allFiles[_i10];\n    if (resultFiles.indexOf(_name2) === -1) {\n      resultFiles.push(_name2);\n    }\n  }\n  return resultFiles;\n}\nfunction deprecatedMessage(obj, message) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.warn(message);\n}\nfunction deprecatedMethod(obj, method) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  return deprecatedMessage(obj, \"Deprecated method \\\".\".concat(method, \"\\\", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \").concat(new Error().stack));\n}\nfunction dropUnsupportedFileTypesModules(doc) {\n  doc.modules = doc.modules.filter(function (module) {\n    if (!module.supportedFileTypes) {\n      return true;\n    }\n    if (!Array.isArray(module.supportedFileTypes)) {\n      throw new Error(\"The supportedFileTypes field of the module must be an array\");\n    }\n    var isSupportedModule = module.supportedFileTypes.includes(doc.fileType);\n    if (!isSupportedModule) {\n      module.on(\"detached\");\n    }\n    return isSupportedModule;\n  });\n}\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nfunction isBuffer(v) {\n  return typeof Buffer !== \"undefined\" && typeof Buffer.isBuffer === \"function\" && Buffer.isBuffer(v);\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref4$modules = _ref4.modules,\n      modules = _ref4$modules === void 0 ? [] : _ref4$modules,\n      options = _objectWithoutProperties(_ref4, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.xmlDocuments = {};\n    if (arguments.length === 0) {\n      deprecatedMessage(this, \"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \".concat(new Error().stack));\n      this.hideDeprecations = true;\n      this.setOptions(options);\n    } else {\n      this.hideDeprecations = true;\n      this.setOptions(options);\n      if (isBuffer(zip)) {\n        throw new Error(\"You passed a Buffer to the Docxtemplater constructor. The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!Array.isArray(modules)) {\n        throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n      }\n      for (var _i12 = 0; _i12 < modules.length; _i12++) {\n        var _module2 = modules[_i12];\n        this.attachModule(_module2);\n      }\n      this.loadZip(zip);\n      this.compile();\n      this.v4Constructor = true;\n    }\n    this.hideDeprecations = false;\n  }\n  return _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      for (var _i14 = 0, _this$modules2 = this.modules; _i14 < _this$modules2.length; _i14++) {\n        var _module3 = _this$modules2[_i14];\n        _module3.set(obj);\n      }\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      for (var _i16 = 0, _this$modules4 = this.modules; _i16 < _this$modules4.length; _i16++) {\n        var _module4 = _this$modules4[_i16];\n        _module4.on(eventName);\n      }\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"attachModule\");\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this$delimiters, _this$delimiters2;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      var result = dxtOptionsSchema.validate(options);\n      if (result.success === false) {\n        throw new Error(result.error);\n      }\n      deprecatedMethod(this, \"setOptions\");\n      this.options = {};\n      var defaults = getDefaults();\n      for (var key in defaults) {\n        var defaultValue = defaults[key];\n        this.options[key] = options[key] != null ? options[key] : this[key] || defaultValue;\n        this[key] = this.options[key];\n      }\n      (_this$delimiters = this.delimiters).start && (_this$delimiters.start = utf8ToWord(this.delimiters.start));\n      (_this$delimiters2 = this.delimiters).end && (_this$delimiters2.end = utf8ToWord(this.delimiters.end));\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"loadZip\");\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      for (var _i18 = 0, _this$modules6 = this.modules; _i18 < _this$modules6.length; _i18++) {\n        var _module5 = _this$modules6[_i18];\n        _module5.zip = this.zip;\n        _module5.docxtemplater = this;\n      }\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      var _this$scopeManagers;\n      (_this$scopeManagers = this.scopeManagers)[to] || (_this$scopeManagers[to] = createScope({\n        tags: tags,\n        parser: this.parser,\n        cachedParsers: currentFile.cachedParsers\n      }));\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this = this;\n      deprecatedMethod(this, \"resolveData\");\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this.data = data;\n        _this.setModules({\n          data: _this.data,\n          Lexer: Lexer\n        });\n        _this.mapper = _this.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this.mapper).map(function (to) {\n          var _this$mapper$to = _this.mapper[to],\n            from = _this$mapper$to.from,\n            data = _this$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              pushArray(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this.options.errorLogging) {\n              logErrors(errors, _this.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      deprecatedMethod(this, \"compile\");\n      this.updateFileTypeConfig();\n      throwIfDuplicateModules(this.modules);\n      this.modules = reorderModules(this.modules);\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      var options = this.options;\n      for (var _i20 = 0, _this$modules8 = this.modules; _i20 < _this$modules8.length; _i20++) {\n        var _module6 = _this$modules8[_i20];\n        options = _module6.optionsTransformer(options, this);\n      }\n      this.options = options;\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      for (var _i22 = 0, _this$options$xmlFile2 = this.options.xmlFileNames; _i22 < _this$options$xmlFile2.length; _i22++) {\n        var fileName = _this$options$xmlFile2[_i22];\n        var content = this.zip.files[fileName].asText();\n        this.xmlDocuments[fileName] = str2xml(content);\n      }\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      /*\n       * Loop inside all templatedFiles (ie xml files with content).\n       * Sometimes they don't exist (footer.xml for example)\n       */\n      this.sendEvent(\"before-preparse\");\n      for (var _i24 = 0, _this$templatedFiles2 = this.templatedFiles; _i24 < _this$templatedFiles2.length; _i24++) {\n        var _fileName = _this$templatedFiles2[_i24];\n        if (this.zip.files[_fileName] != null) {\n          this.precompileFile(_fileName);\n        }\n      }\n      this.sendEvent(\"after-preparse\");\n      for (var _i26 = 0, _this$templatedFiles4 = this.templatedFiles; _i26 < _this$templatedFiles4.length; _i26++) {\n        var _fileName2 = _this$templatedFiles4[_i26];\n        if (this.zip.files[_fileName2] != null) {\n          this.compiled[_fileName2].parse({\n            noPostParse: true\n          });\n        }\n      }\n      this.sendEvent(\"after-parse\");\n      for (var _i28 = 0, _this$templatedFiles6 = this.templatedFiles; _i28 < _this$templatedFiles6.length; _i28++) {\n        var _fileName3 = _this$templatedFiles6[_i28];\n        if (this.zip.files[_fileName3] != null) {\n          this.compiled[_fileName3].postparse();\n        }\n      }\n      this.sendEvent(\"after-postparse\");\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      this.relsTypes = getRelsTypes(this.zip);\n      var _getContentTypes = getContentTypes(this.zip),\n        overrides = _getContentTypes.overrides,\n        defaults = _getContentTypes.defaults,\n        contentTypes = _getContentTypes.contentTypes,\n        contentTypeXml = _getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      for (var _i30 = 0, _this$modules0 = this.modules; _i30 < _this$modules0.length; _i30++) {\n        var _module7 = _this$modules0[_i30];\n        fileType = _module7.getFileType({\n          zip: this.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: this\n        }) || fileType;\n      }\n      this.fileType = fileType;\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified(this.zip);\n      }\n      addXmlFileNamesFromXmlContentType(this);\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig;\n      if (!this.fileTypeConfig) {\n        if (Docxtemplater.FileTypeConfig[this.fileType]) {\n          this.fileTypeConfig = Docxtemplater.FileTypeConfig[this.fileType]();\n        } else {\n          /*\n           * Error case handled since v3.60.2\n           * Throw specific error when trying to template xlsx file without xlsxmodule\n           */\n          var message = \"Filetype \\\"\".concat(this.fileType, \"\\\" is not supported\");\n          var id = \"filetype_not_supported\";\n          if (this.fileType === \"xlsx\") {\n            message = \"Filetype \\\"\".concat(this.fileType, \"\\\" is supported only with the paid XlsxModule\");\n            id = \"xlsx_filetype_needs_xlsx_module\";\n          }\n          var err = new XTTemplateError(message);\n          err.properties = {\n            id: id,\n            explanation: message\n          };\n          throw err;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this2 = this;\n      this.hideDeprecations = true;\n      var promise = this.resolveData(data);\n      this.hideDeprecations = false;\n      return promise.then(function () {\n        return _this2.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      if (Object.keys(this.compiled).length === 0) {\n        this.compile();\n      }\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (arguments.length > 0) {\n        this.data = data;\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper || (this.mapper = this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {}));\n      var output = [];\n      for (var to in this.mapper) {\n        var _this$mapper$to2 = this.mapper[to],\n          from = _this$mapper$to2.from,\n          _data = _this$mapper$to2.data;\n        var currentFile = this.compiled[from];\n        currentFile.scopeManager = this.getScopeManager(to, currentFile, _data);\n        currentFile.render(to);\n        output.push([to, currentFile.content, currentFile]);\n        delete currentFile.content;\n      }\n      for (var _i32 = 0; _i32 < output.length; _i32++) {\n        var outputPart = output[_i32];\n        var _outputPart = _slicedToArray(outputPart, 3),\n          content = _outputPart[1],\n          _currentFile = _outputPart[2];\n        for (var _i34 = 0, _this$modules10 = this.modules; _i34 < _this$modules10.length; _i34++) {\n          var _module8 = _this$modules10[_i34];\n          if (_module8.preZip) {\n            var result = _module8.preZip(content, _currentFile);\n            if (typeof result === \"string\") {\n              outputPart[1] = result;\n            }\n          }\n        }\n      }\n      for (var _i36 = 0; _i36 < output.length; _i36++) {\n        var _output$_i = _slicedToArray(output[_i36], 2),\n          _to = _output$_i[0],\n          _content = _output$_i[1];\n        this.zip.file(_to, _content, {\n          createFolders: true\n        });\n      }\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      // The synced-zip event is used in the subtemplate module for example\n      this.sendEvent(\"synced-zip\");\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      for (var fileName in this.xmlDocuments) {\n        this.zip.remove(fileName);\n        var content = xml2str(this.xmlDocuments[fileName]);\n        this.zip.file(fileName, content, {\n          createFolders: true\n        });\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      deprecatedMethod(this, \"setData\");\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      var defaults = getDefaults();\n      var defaultKeys = pushArray(Object.keys(defaults), [\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]);\n      for (var _i38 = 0; _i38 < defaultKeys.length; _i38++) {\n        var key = defaultKeys[_i38];\n        xmltOptions[key] = this[key];\n      }\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      pushArray(this.templatedFiles, this.targets);\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }, {\n    key: \"getTags\",\n    value: function getTags() {\n      var result = {\n        headers: [],\n        footers: []\n      };\n      for (var key in this.compiled) {\n        var contentType = this.filesContentTypes[key];\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\") {\n          result.document = {\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          };\n        }\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml\") {\n          result.headers.push({\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          });\n        }\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml\") {\n          result.footers.push({\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          });\n        }\n      }\n      return result;\n    }\n\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBuffer\",\n    value: function toBuffer(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"nodebuffer\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBlob\",\n    value: function toBlob(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"blob\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBase64\",\n    value: function toBase64(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"base64\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toUint8Array\",\n    value: function toUint8Array(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"uint8array\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toArrayBuffer\",\n    value: function toArrayBuffer(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"arraybuffer\"\n      }));\n    }\n  }]);\n}();\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;\nmodule.exports[\"default\"] = Docxtemplater;","map":{"version":3,"names":["_excluded","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","call","slice","constructor","name","Array","from","test","n","l","Symbol","iterator","i","u","f","next","done","isArray","_typeof","prototype","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","hasOwnProperty","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","DocUtils","require","z","dxtSyntaxSchema","object","allowUnopenedTag","optional","allowUnclosedTag","allowUnbalancedLoops","changeDelimiterPrefix","string","nullable","dxtOptionsSchema","delimiters","start","end","strict","fileTypeConfig","paragraphLoop","parser","errorLogging","union","linebreaks","nullGetter","syntax","stripInvalidXMLChars","_require","getRelsTypes","_require2","collectContentTypes","getContentTypes","moduleWrapper","traits","commonModule","createScope","Lexer","_require3","_getTags","getTags","logErrors","_require4","throwMultiError","throwResolveBeforeCompile","throwRenderInvalidTemplate","throwRenderTwice","XTInternalError","XTTemplateError","throwFileTypeNotIdentified","throwFileTypeNotHandled","throwApiVersionError","getDefaults","str2xml","xml2str","concatArrays","uniq","getDuplicates","stableSort","pushArray","utf8ToWord","invertMap","ctXML","relsFile","currentModuleApiVersion","throwIfDuplicateModules","modules","duplicates","map","_ref","concat","addXmlFileNamesFromXmlContentType","doc","_i2","_doc$modules2","_module","_i4","_ref3","xmlContentTypes","contentType","candidates","invertedContentTypes","_i6","candidate","zip","files","options","xmlFileNames","reorderModules","m1","m2","priority","zipFileOrder","allFiles","resultFiles","prefixes","_i8","_name","_i0","prefix","_i10","_name2","deprecatedMessage","obj","message","hideDeprecations","console","warn","deprecatedMethod","method","Error","stack","dropUnsupportedFileTypesModules","module","supportedFileTypes","isSupportedModule","includes","fileType","on","verifyErrors","compiled","errors","allErrors","isBuffer","v","Buffer","Docxtemplater","_ref4","undefined","_ref4$modules","targets","rendered","scopeManagers","xmlDocuments","setOptions","file","_i12","_module2","attachModule","loadZip","compile","v4Constructor","verifyApiVersion","neededVersion","split","parseInt","explanation","join","setModules","_i14","_this$modules2","_module3","set","sendEvent","eventName","_i16","_this$modules4","_module4","moduleType","requiredAPIVersion","attached","clone","wrappedModule","_this$delimiters","_this$delimiters2","result","validate","success","error","defaults","defaultValue","loadAsync","updateFileTypeConfig","baseModules","moduleFunction","_i18","_this$modules6","_module5","docxtemplater","precompileFile","fileName","currentFile","createTemplateClass","preparse","compileFile","parse","getScopeManager","to","tags","_this$scopeManagers","cachedParsers","resolveData","data","_this","Promise","resolve","then","mapper","reduce","getRenderedMap","all","_this$mapper$to","filePath","scopeManager","resolveTags","finishedResolving","errs","resolved","_i20","_this$modules8","_module6","optionsTransformer","_i22","_this$options$xmlFile2","content","asText","getTemplatedFiles","_i24","_this$templatedFiles2","templatedFiles","_fileName","_i26","_this$templatedFiles4","_fileName2","noPostParse","_i28","_this$templatedFiles6","_fileName3","postparse","relsTypes","_getContentTypes","overrides","contentTypes","contentTypeXml","filesContentTypes","mimetype","_i30","_this$modules0","_module7","getFileType","FileTypeConfig","id","err","properties","renderAsync","_this2","promise","render","output","_this$mapper$to2","_data","_i32","outputPart","_outputPart","_currentFile","_i34","_this$modules10","_module8","preZip","_i36","_output$_i","_to","_content","createFolders","syncZip","remove","setData","getZip","path","createTemplateClassFromContent","xmltOptions","relsType","defaultKeys","_i38","XmlTemplater","getFullText","textPath","headers","footers","document","target","postparsed","toBuffer","generate","compression","fileOrder","type","toBlob","toBase64","toUint8Array","toArrayBuffer","Errors","XmlMatcher","exports"],"sources":["/home/ali/Desktop/applications/node_modules/docxtemplater/js/docxtemplater.js"],"sourcesContent":["\"use strict\";\n\nvar _excluded = [\"modules\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar DocUtils = require(\"./doc-utils.js\");\nvar z = require(\"./minizod.js\");\n\n// Schema definitions for DXT.ConstructorOptions\nvar dxtSyntaxSchema = z.object({\n  allowUnopenedTag: z[\"boolean\"]().optional(),\n  allowUnclosedTag: z[\"boolean\"]().optional(),\n  allowUnbalancedLoops: z[\"boolean\"]().optional(),\n  changeDelimiterPrefix: z.string().optional().nullable()\n});\nvar dxtOptionsSchema = z.object({\n  delimiters: z.object({\n    start: z.string().nullable(),\n    end: z.string().nullable()\n  }).strict().optional(),\n  fileTypeConfig: z.object({}).optional(),\n  paragraphLoop: z[\"boolean\"]().optional(),\n  parser: z[\"function\"]().optional(),\n  errorLogging: z.union([z[\"boolean\"](), z.string()]).optional(),\n  linebreaks: z[\"boolean\"]().optional(),\n  nullGetter: z[\"function\"]().optional(),\n  syntax: dxtSyntaxSchema.optional(),\n  stripInvalidXMLChars: z[\"boolean\"]().optional()\n}).strict();\nvar _require = require(\"./get-relation-types.js\"),\n  getRelsTypes = _require.getRelsTypes;\nvar _require2 = require(\"./get-content-types.js\"),\n  collectContentTypes = _require2.collectContentTypes,\n  getContentTypes = _require2.getContentTypes;\nvar moduleWrapper = require(\"./module-wrapper.js\");\nvar traits = require(\"./traits.js\");\nvar commonModule = require(\"./modules/common.js\");\nvar createScope = require(\"./scope-manager.js\");\nvar Lexer = require(\"./lexer.js\");\nvar _require3 = require(\"./get-tags.js\"),\n  _getTags = _require3.getTags;\nvar logErrors = require(\"./error-logger.js\");\nvar _require4 = require(\"./errors.js\"),\n  throwMultiError = _require4.throwMultiError,\n  throwResolveBeforeCompile = _require4.throwResolveBeforeCompile,\n  throwRenderInvalidTemplate = _require4.throwRenderInvalidTemplate,\n  throwRenderTwice = _require4.throwRenderTwice,\n  XTInternalError = _require4.XTInternalError,\n  XTTemplateError = _require4.XTTemplateError,\n  throwFileTypeNotIdentified = _require4.throwFileTypeNotIdentified,\n  throwFileTypeNotHandled = _require4.throwFileTypeNotHandled,\n  throwApiVersionError = _require4.throwApiVersionError;\nDocUtils.getRelsTypes = getRelsTypes;\nDocUtils.traits = traits;\nDocUtils.moduleWrapper = moduleWrapper;\nDocUtils.collectContentTypes = collectContentTypes;\nDocUtils.getContentTypes = getContentTypes;\nvar getDefaults = DocUtils.getDefaults,\n  str2xml = DocUtils.str2xml,\n  xml2str = DocUtils.xml2str,\n  concatArrays = DocUtils.concatArrays,\n  uniq = DocUtils.uniq,\n  getDuplicates = DocUtils.getDuplicates,\n  stableSort = DocUtils.stableSort,\n  pushArray = DocUtils.pushArray,\n  utf8ToWord = DocUtils.utf8ToWord,\n  invertMap = DocUtils.invertMap;\nvar ctXML = \"[Content_Types].xml\";\nvar relsFile = \"_rels/.rels\";\nvar currentModuleApiVersion = [3, 47, 1];\nfunction throwIfDuplicateModules(modules) {\n  var duplicates = getDuplicates(modules.map(function (_ref) {\n    var name = _ref.name;\n    return name;\n  }));\n  if (duplicates.length > 0) {\n    throw new XTInternalError(\"Detected duplicate module \\\"\".concat(duplicates[0], \"\\\"\"));\n  }\n}\nfunction addXmlFileNamesFromXmlContentType(doc) {\n  for (var _i2 = 0, _doc$modules2 = doc.modules; _i2 < _doc$modules2.length; _i2++) {\n    var _module = _doc$modules2[_i2];\n    for (var _i4 = 0, _ref3 = _module.xmlContentTypes || []; _i4 < _ref3.length; _i4++) {\n      var contentType = _ref3[_i4];\n      var candidates = doc.invertedContentTypes[contentType] || [];\n      for (var _i6 = 0; _i6 < candidates.length; _i6++) {\n        var candidate = candidates[_i6];\n        if (doc.zip.files[candidate]) {\n          doc.options.xmlFileNames.push(candidate);\n        }\n      }\n    }\n  }\n}\nfunction reorderModules(modules) {\n  /**\n   * Modules will be sorted according to priority.\n   *\n   * Input example:\n   * [\n   *   { priority: 1, name: \"FooMod\" },\n   *   { priority: -1, name: \"XMod\" },\n   *   { priority: 4, name: \"OtherMod\" }\n   * ]\n   *\n   * Output example (sorted by priority in descending order):\n   * [\n   *   { priority: 4, name: \"OtherMod\" },\n   *   { priority: 1, name: \"FooMod\" },\n   *   { priority: -1, name: \"XMod\" }\n   * ]\n   * Tested in #test-reorder-modules\n   */\n  return stableSort(modules, function (m1, m2) {\n    return (m2.priority || 0) - (m1.priority || 0);\n  });\n}\nfunction zipFileOrder(files) {\n  var allFiles = [];\n  for (var name in files) {\n    allFiles.push(name);\n  }\n  /*\n   * The first files that need to be put in the zip file are :\n   * [Content_Types].xml and _rels/.rels\n   */\n  var resultFiles = [ctXML, relsFile];\n\n  /*\n   * The next files that should be in the zip file are :\n   *\n   * - word/* (ie word/document.xml, word/header1.xml, ...)\n   * - xl/* (ie xl/worksheets/sheet1.xml)\n   * - ppt/* (ie ppt/slides/slide1.xml)\n   */\n  var prefixes = [\"word/\", \"xl/\", \"ppt/\"];\n  for (var _i8 = 0; _i8 < allFiles.length; _i8++) {\n    var _name = allFiles[_i8];\n    for (var _i0 = 0; _i0 < prefixes.length; _i0++) {\n      var prefix = prefixes[_i0];\n      if (_name.indexOf(\"\".concat(prefix)) === 0) {\n        resultFiles.push(_name);\n      }\n    }\n  }\n  /*\n   * Push the rest of files, such as docProps/core.xml and docProps/app.xml\n   */\n  for (var _i10 = 0; _i10 < allFiles.length; _i10++) {\n    var _name2 = allFiles[_i10];\n    if (resultFiles.indexOf(_name2) === -1) {\n      resultFiles.push(_name2);\n    }\n  }\n  return resultFiles;\n}\nfunction deprecatedMessage(obj, message) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  // eslint-disable-next-line no-console\n  console.warn(message);\n}\nfunction deprecatedMethod(obj, method) {\n  if (obj.hideDeprecations === true) {\n    return;\n  }\n  return deprecatedMessage(obj, \"Deprecated method \\\".\".concat(method, \"\\\", view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \").concat(new Error().stack));\n}\nfunction dropUnsupportedFileTypesModules(doc) {\n  doc.modules = doc.modules.filter(function (module) {\n    if (!module.supportedFileTypes) {\n      return true;\n    }\n    if (!Array.isArray(module.supportedFileTypes)) {\n      throw new Error(\"The supportedFileTypes field of the module must be an array\");\n    }\n    var isSupportedModule = module.supportedFileTypes.includes(doc.fileType);\n    if (!isSupportedModule) {\n      module.on(\"detached\");\n    }\n    return isSupportedModule;\n  });\n}\nfunction verifyErrors(doc) {\n  var compiled = doc.compiled;\n  doc.errors = concatArrays(Object.keys(compiled).map(function (name) {\n    return compiled[name].allErrors;\n  }));\n  if (doc.errors.length !== 0) {\n    if (doc.options.errorLogging) {\n      logErrors(doc.errors, doc.options.errorLogging);\n    }\n    throwMultiError(doc.errors);\n  }\n}\nfunction isBuffer(v) {\n  return typeof Buffer !== \"undefined\" && typeof Buffer.isBuffer === \"function\" && Buffer.isBuffer(v);\n}\nvar Docxtemplater = /*#__PURE__*/function () {\n  function Docxtemplater(zip) {\n    var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref4$modules = _ref4.modules,\n      modules = _ref4$modules === void 0 ? [] : _ref4$modules,\n      options = _objectWithoutProperties(_ref4, _excluded);\n    _classCallCheck(this, Docxtemplater);\n    this.targets = [];\n    this.rendered = false;\n    this.scopeManagers = {};\n    this.compiled = {};\n    this.modules = [commonModule()];\n    this.xmlDocuments = {};\n    if (arguments.length === 0) {\n      deprecatedMessage(this, \"Deprecated docxtemplater constructor with no arguments, view upgrade guide : https://docxtemplater.com/docs/api/#upgrade-guide, stack : \".concat(new Error().stack));\n      this.hideDeprecations = true;\n      this.setOptions(options);\n    } else {\n      this.hideDeprecations = true;\n      this.setOptions(options);\n      if (isBuffer(zip)) {\n        throw new Error(\"You passed a Buffer to the Docxtemplater constructor. The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!zip || !zip.files || typeof zip.file !== \"function\") {\n        throw new Error(\"The first argument of docxtemplater's constructor must be a valid zip file (jszip v2 or pizzip v3)\");\n      }\n      if (!Array.isArray(modules)) {\n        throw new Error(\"The modules argument of docxtemplater's constructor must be an array\");\n      }\n      for (var _i12 = 0; _i12 < modules.length; _i12++) {\n        var _module2 = modules[_i12];\n        this.attachModule(_module2);\n      }\n      this.loadZip(zip);\n      this.compile();\n      this.v4Constructor = true;\n    }\n    this.hideDeprecations = false;\n  }\n  return _createClass(Docxtemplater, [{\n    key: \"verifyApiVersion\",\n    value: function verifyApiVersion(neededVersion) {\n      neededVersion = neededVersion.split(\".\").map(function (i) {\n        return parseInt(i, 10);\n      });\n      if (neededVersion.length !== 3) {\n        throwApiVersionError(\"neededVersion is not a valid version\", {\n          neededVersion: neededVersion,\n          explanation: \"the neededVersion must be an array of length 3\"\n        });\n      }\n      if (neededVersion[0] !== currentModuleApiVersion[0]) {\n        throwApiVersionError(\"The major api version do not match, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] > currentModuleApiVersion[1]) {\n        throwApiVersionError(\"The minor api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      if (neededVersion[1] === currentModuleApiVersion[1] && neededVersion[2] > currentModuleApiVersion[2]) {\n        throwApiVersionError(\"The patch api version is not uptodate, you probably have to update docxtemplater with npm install --save docxtemplater\", {\n          neededVersion: neededVersion,\n          currentModuleApiVersion: currentModuleApiVersion,\n          explanation: \"moduleAPIVersionMismatch : needed=\".concat(neededVersion.join(\".\"), \", current=\").concat(currentModuleApiVersion.join(\".\"))\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"setModules\",\n    value: function setModules(obj) {\n      for (var _i14 = 0, _this$modules2 = this.modules; _i14 < _this$modules2.length; _i14++) {\n        var _module3 = _this$modules2[_i14];\n        _module3.set(obj);\n      }\n    }\n  }, {\n    key: \"sendEvent\",\n    value: function sendEvent(eventName) {\n      for (var _i16 = 0, _this$modules4 = this.modules; _i16 < _this$modules4.length; _i16++) {\n        var _module4 = _this$modules4[_i16];\n        _module4.on(eventName);\n      }\n    }\n  }, {\n    key: \"attachModule\",\n    value: function attachModule(module) {\n      if (this.v4Constructor) {\n        throw new XTInternalError(\"attachModule() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"attachModule\");\n      var moduleType = _typeof(module);\n      if (moduleType === \"function\") {\n        throw new XTInternalError(\"Cannot attach a class/function as a module. Most probably you forgot to instantiate the module by using `new` on the module.\");\n      }\n      if (!module || moduleType !== \"object\") {\n        throw new XTInternalError(\"Cannot attachModule with a falsy value\");\n      }\n      if (module.requiredAPIVersion) {\n        this.verifyApiVersion(module.requiredAPIVersion);\n      }\n      if (module.attached === true) {\n        if (typeof module.clone === \"function\") {\n          module = module.clone();\n        } else {\n          throw new Error(\"Cannot attach a module that was already attached : \\\"\".concat(module.name, \"\\\". The most likely cause is that you are instantiating the module at the root level, and using it for multiple instances of Docxtemplater\"));\n        }\n      }\n      module.attached = true;\n      var wrappedModule = moduleWrapper(module);\n      this.modules.push(wrappedModule);\n      wrappedModule.on(\"attached\");\n      if (this.fileType) {\n        dropUnsupportedFileTypesModules(this);\n      }\n      return this;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var _this$delimiters, _this$delimiters2;\n      if (this.v4Constructor) {\n        throw new Error(\"setOptions() should not be called manually when using the v4 constructor\");\n      }\n      if (!options) {\n        throw new Error(\"setOptions should be called with an object as first parameter\");\n      }\n      var result = dxtOptionsSchema.validate(options);\n      if (result.success === false) {\n        throw new Error(result.error);\n      }\n      deprecatedMethod(this, \"setOptions\");\n      this.options = {};\n      var defaults = getDefaults();\n      for (var key in defaults) {\n        var defaultValue = defaults[key];\n        this.options[key] = options[key] != null ? options[key] : this[key] || defaultValue;\n        this[key] = this.options[key];\n      }\n      (_this$delimiters = this.delimiters).start && (_this$delimiters.start = utf8ToWord(this.delimiters.start));\n      (_this$delimiters2 = this.delimiters).end && (_this$delimiters2.end = utf8ToWord(this.delimiters.end));\n      return this;\n    }\n  }, {\n    key: \"loadZip\",\n    value: function loadZip(zip) {\n      if (this.v4Constructor) {\n        throw new Error(\"loadZip() should not be called manually when using the v4 constructor\");\n      }\n      deprecatedMethod(this, \"loadZip\");\n      if (zip.loadAsync) {\n        throw new XTInternalError(\"Docxtemplater doesn't handle JSZip version >=3, please use pizzip\");\n      }\n      this.zip = zip;\n      this.updateFileTypeConfig();\n      this.modules = concatArrays([this.fileTypeConfig.baseModules.map(function (moduleFunction) {\n        return moduleFunction();\n      }), this.modules]);\n      for (var _i18 = 0, _this$modules6 = this.modules; _i18 < _this$modules6.length; _i18++) {\n        var _module5 = _this$modules6[_i18];\n        _module5.zip = this.zip;\n        _module5.docxtemplater = this;\n      }\n      dropUnsupportedFileTypesModules(this);\n      return this;\n    }\n  }, {\n    key: \"precompileFile\",\n    value: function precompileFile(fileName) {\n      var currentFile = this.createTemplateClass(fileName);\n      currentFile.preparse();\n      this.compiled[fileName] = currentFile;\n    }\n  }, {\n    key: \"compileFile\",\n    value: function compileFile(fileName) {\n      this.compiled[fileName].parse();\n    }\n  }, {\n    key: \"getScopeManager\",\n    value: function getScopeManager(to, currentFile, tags) {\n      var _this$scopeManagers;\n      (_this$scopeManagers = this.scopeManagers)[to] || (_this$scopeManagers[to] = createScope({\n        tags: tags,\n        parser: this.parser,\n        cachedParsers: currentFile.cachedParsers\n      }));\n      return this.scopeManagers[to];\n    }\n  }, {\n    key: \"resolveData\",\n    value: function resolveData(data) {\n      var _this = this;\n      deprecatedMethod(this, \"resolveData\");\n      var errors = [];\n      if (!Object.keys(this.compiled).length) {\n        throwResolveBeforeCompile();\n      }\n      return Promise.resolve(data).then(function (data) {\n        _this.data = data;\n        _this.setModules({\n          data: _this.data,\n          Lexer: Lexer\n        });\n        _this.mapper = _this.modules.reduce(function (value, module) {\n          return module.getRenderedMap(value);\n        }, {});\n        return Promise.all(Object.keys(_this.mapper).map(function (to) {\n          var _this$mapper$to = _this.mapper[to],\n            from = _this$mapper$to.from,\n            data = _this$mapper$to.data;\n          return Promise.resolve(data).then(function (data) {\n            var currentFile = _this.compiled[from];\n            currentFile.filePath = to;\n            currentFile.scopeManager = _this.getScopeManager(to, currentFile, data);\n            return currentFile.resolveTags(data).then(function (result) {\n              currentFile.scopeManager.finishedResolving = true;\n              return result;\n            }, function (errs) {\n              pushArray(errors, errs);\n            });\n          });\n        })).then(function (resolved) {\n          if (errors.length !== 0) {\n            if (_this.options.errorLogging) {\n              logErrors(errors, _this.options.errorLogging);\n            }\n            throwMultiError(errors);\n          }\n          return concatArrays(resolved);\n        });\n      });\n    }\n  }, {\n    key: \"compile\",\n    value: function compile() {\n      deprecatedMethod(this, \"compile\");\n      this.updateFileTypeConfig();\n      throwIfDuplicateModules(this.modules);\n      this.modules = reorderModules(this.modules);\n      if (Object.keys(this.compiled).length) {\n        return this;\n      }\n      var options = this.options;\n      for (var _i20 = 0, _this$modules8 = this.modules; _i20 < _this$modules8.length; _i20++) {\n        var _module6 = _this$modules8[_i20];\n        options = _module6.optionsTransformer(options, this);\n      }\n      this.options = options;\n      this.options.xmlFileNames = uniq(this.options.xmlFileNames);\n      for (var _i22 = 0, _this$options$xmlFile2 = this.options.xmlFileNames; _i22 < _this$options$xmlFile2.length; _i22++) {\n        var fileName = _this$options$xmlFile2[_i22];\n        var content = this.zip.files[fileName].asText();\n        this.xmlDocuments[fileName] = str2xml(content);\n      }\n      this.setModules({\n        zip: this.zip,\n        xmlDocuments: this.xmlDocuments\n      });\n      this.getTemplatedFiles();\n      /*\n       * Loop inside all templatedFiles (ie xml files with content).\n       * Sometimes they don't exist (footer.xml for example)\n       */\n      this.sendEvent(\"before-preparse\");\n      for (var _i24 = 0, _this$templatedFiles2 = this.templatedFiles; _i24 < _this$templatedFiles2.length; _i24++) {\n        var _fileName = _this$templatedFiles2[_i24];\n        if (this.zip.files[_fileName] != null) {\n          this.precompileFile(_fileName);\n        }\n      }\n      this.sendEvent(\"after-preparse\");\n      for (var _i26 = 0, _this$templatedFiles4 = this.templatedFiles; _i26 < _this$templatedFiles4.length; _i26++) {\n        var _fileName2 = _this$templatedFiles4[_i26];\n        if (this.zip.files[_fileName2] != null) {\n          this.compiled[_fileName2].parse({\n            noPostParse: true\n          });\n        }\n      }\n      this.sendEvent(\"after-parse\");\n      for (var _i28 = 0, _this$templatedFiles6 = this.templatedFiles; _i28 < _this$templatedFiles6.length; _i28++) {\n        var _fileName3 = _this$templatedFiles6[_i28];\n        if (this.zip.files[_fileName3] != null) {\n          this.compiled[_fileName3].postparse();\n        }\n      }\n      this.sendEvent(\"after-postparse\");\n      this.setModules({\n        compiled: this.compiled\n      });\n      verifyErrors(this);\n      return this;\n    }\n  }, {\n    key: \"updateFileTypeConfig\",\n    value: function updateFileTypeConfig() {\n      this.relsTypes = getRelsTypes(this.zip);\n      var _getContentTypes = getContentTypes(this.zip),\n        overrides = _getContentTypes.overrides,\n        defaults = _getContentTypes.defaults,\n        contentTypes = _getContentTypes.contentTypes,\n        contentTypeXml = _getContentTypes.contentTypeXml;\n      if (contentTypeXml) {\n        this.filesContentTypes = collectContentTypes(overrides, defaults, this.zip);\n        this.invertedContentTypes = invertMap(this.filesContentTypes);\n        this.setModules({\n          contentTypes: this.contentTypes,\n          invertedContentTypes: this.invertedContentTypes\n        });\n      }\n      var fileType;\n      if (this.zip.files.mimetype) {\n        fileType = \"odt\";\n      }\n      for (var _i30 = 0, _this$modules0 = this.modules; _i30 < _this$modules0.length; _i30++) {\n        var _module7 = _this$modules0[_i30];\n        fileType = _module7.getFileType({\n          zip: this.zip,\n          contentTypes: contentTypes,\n          contentTypeXml: contentTypeXml,\n          overrides: overrides,\n          defaults: defaults,\n          doc: this\n        }) || fileType;\n      }\n      this.fileType = fileType;\n      if (fileType === \"odt\") {\n        throwFileTypeNotHandled(fileType);\n      }\n      if (!fileType) {\n        throwFileTypeNotIdentified(this.zip);\n      }\n      addXmlFileNamesFromXmlContentType(this);\n      dropUnsupportedFileTypesModules(this);\n      this.fileTypeConfig = this.options.fileTypeConfig || this.fileTypeConfig;\n      if (!this.fileTypeConfig) {\n        if (Docxtemplater.FileTypeConfig[this.fileType]) {\n          this.fileTypeConfig = Docxtemplater.FileTypeConfig[this.fileType]();\n        } else {\n          /*\n           * Error case handled since v3.60.2\n           * Throw specific error when trying to template xlsx file without xlsxmodule\n           */\n          var message = \"Filetype \\\"\".concat(this.fileType, \"\\\" is not supported\");\n          var id = \"filetype_not_supported\";\n          if (this.fileType === \"xlsx\") {\n            message = \"Filetype \\\"\".concat(this.fileType, \"\\\" is supported only with the paid XlsxModule\");\n            id = \"xlsx_filetype_needs_xlsx_module\";\n          }\n          var err = new XTTemplateError(message);\n          err.properties = {\n            id: id,\n            explanation: message\n          };\n          throw err;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: \"renderAsync\",\n    value: function renderAsync(data) {\n      var _this2 = this;\n      this.hideDeprecations = true;\n      var promise = this.resolveData(data);\n      this.hideDeprecations = false;\n      return promise.then(function () {\n        return _this2.render();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(data) {\n      if (this.rendered) {\n        throwRenderTwice();\n      }\n      this.rendered = true;\n      if (Object.keys(this.compiled).length === 0) {\n        this.compile();\n      }\n      if (this.errors.length > 0) {\n        throwRenderInvalidTemplate();\n      }\n      if (arguments.length > 0) {\n        this.data = data;\n      }\n      this.setModules({\n        data: this.data,\n        Lexer: Lexer\n      });\n      this.mapper || (this.mapper = this.modules.reduce(function (value, module) {\n        return module.getRenderedMap(value);\n      }, {}));\n      var output = [];\n      for (var to in this.mapper) {\n        var _this$mapper$to2 = this.mapper[to],\n          from = _this$mapper$to2.from,\n          _data = _this$mapper$to2.data;\n        var currentFile = this.compiled[from];\n        currentFile.scopeManager = this.getScopeManager(to, currentFile, _data);\n        currentFile.render(to);\n        output.push([to, currentFile.content, currentFile]);\n        delete currentFile.content;\n      }\n      for (var _i32 = 0; _i32 < output.length; _i32++) {\n        var outputPart = output[_i32];\n        var _outputPart = _slicedToArray(outputPart, 3),\n          content = _outputPart[1],\n          _currentFile = _outputPart[2];\n        for (var _i34 = 0, _this$modules10 = this.modules; _i34 < _this$modules10.length; _i34++) {\n          var _module8 = _this$modules10[_i34];\n          if (_module8.preZip) {\n            var result = _module8.preZip(content, _currentFile);\n            if (typeof result === \"string\") {\n              outputPart[1] = result;\n            }\n          }\n        }\n      }\n      for (var _i36 = 0; _i36 < output.length; _i36++) {\n        var _output$_i = _slicedToArray(output[_i36], 2),\n          _to = _output$_i[0],\n          _content = _output$_i[1];\n        this.zip.file(_to, _content, {\n          createFolders: true\n        });\n      }\n      verifyErrors(this);\n      this.sendEvent(\"syncing-zip\");\n      this.syncZip();\n      // The synced-zip event is used in the subtemplate module for example\n      this.sendEvent(\"synced-zip\");\n      return this;\n    }\n  }, {\n    key: \"syncZip\",\n    value: function syncZip() {\n      for (var fileName in this.xmlDocuments) {\n        this.zip.remove(fileName);\n        var content = xml2str(this.xmlDocuments[fileName]);\n        this.zip.file(fileName, content, {\n          createFolders: true\n        });\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      deprecatedMethod(this, \"setData\");\n      this.data = data;\n      return this;\n    }\n  }, {\n    key: \"getZip\",\n    value: function getZip() {\n      return this.zip;\n    }\n  }, {\n    key: \"createTemplateClass\",\n    value: function createTemplateClass(path) {\n      var content = this.zip.files[path].asText();\n      return this.createTemplateClassFromContent(content, path);\n    }\n  }, {\n    key: \"createTemplateClassFromContent\",\n    value: function createTemplateClassFromContent(content, filePath) {\n      var xmltOptions = {\n        filePath: filePath,\n        contentType: this.filesContentTypes[filePath],\n        relsType: this.relsTypes[filePath]\n      };\n      var defaults = getDefaults();\n      var defaultKeys = pushArray(Object.keys(defaults), [\"filesContentTypes\", \"fileTypeConfig\", \"fileType\", \"modules\"]);\n      for (var _i38 = 0; _i38 < defaultKeys.length; _i38++) {\n        var key = defaultKeys[_i38];\n        xmltOptions[key] = this[key];\n      }\n      return new Docxtemplater.XmlTemplater(content, xmltOptions);\n    }\n  }, {\n    key: \"getFullText\",\n    value: function getFullText(path) {\n      return this.createTemplateClass(path || this.fileTypeConfig.textPath(this)).getFullText();\n    }\n  }, {\n    key: \"getTemplatedFiles\",\n    value: function getTemplatedFiles() {\n      this.templatedFiles = this.fileTypeConfig.getTemplatedFiles(this.zip);\n      pushArray(this.templatedFiles, this.targets);\n      this.templatedFiles = uniq(this.templatedFiles);\n      return this.templatedFiles;\n    }\n  }, {\n    key: \"getTags\",\n    value: function getTags() {\n      var result = {\n        headers: [],\n        footers: []\n      };\n      for (var key in this.compiled) {\n        var contentType = this.filesContentTypes[key];\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml\") {\n          result.document = {\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          };\n        }\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml\") {\n          result.headers.push({\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          });\n        }\n        if (contentType === \"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml\") {\n          result.footers.push({\n            target: key,\n            tags: _getTags(this.compiled[key].postparsed)\n          });\n        }\n      }\n      return result;\n    }\n\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBuffer\",\n    value: function toBuffer(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"nodebuffer\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBlob\",\n    value: function toBlob(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"blob\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toBase64\",\n    value: function toBase64(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"base64\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toUint8Array\",\n    value: function toUint8Array(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"uint8array\"\n      }));\n    }\n    /* Export functions, present since 3.62.0 */\n  }, {\n    key: \"toArrayBuffer\",\n    value: function toArrayBuffer(options) {\n      return this.zip.generate(_objectSpread(_objectSpread({\n        compression: \"DEFLATE\",\n        fileOrder: zipFileOrder\n      }, options), {}, {\n        type: \"arraybuffer\"\n      }));\n    }\n  }]);\n}();\nDocxtemplater.DocUtils = DocUtils;\nDocxtemplater.Errors = require(\"./errors.js\");\nDocxtemplater.XmlTemplater = require(\"./xml-templater.js\");\nDocxtemplater.FileTypeConfig = require(\"./file-type-config.js\");\nDocxtemplater.XmlMatcher = require(\"./xml-matcher.js\");\nmodule.exports = Docxtemplater;\nmodule.exports[\"default\"] = Docxtemplater;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}